# 원시타입 vs 객체 타입

## 자바스크립트가 원시타입과 객체타입으로 나눈 이유
- 원시타입과 객체타입은 값이 저장되거나 복사되는 과정이 서로 다르기 때문

## 원시타입 vs 객체 타입
| 원시 타입                         | vs | 객체 타입                         |
|----------------------------------|----|----------------------------------|
| Number, String, Boolean 등 ...   |    | Object, Array, Function 등 ...   |
| 값 자체로써 변수에 저장되고 복사 된다 |    | 참조값을 통해 변수에 저장되고 복사된다 |

## 원시타입
원시타입은 불변값이라고도 부름
- p2의 값이 1에서 2로 변경이 된다면 메모리 값에 저장되었던 1은 실제로는 수정되지 않음
- 대신에 변경해야 할 값을 새로운 메모리 값에 저장하고, 이어서 변수가 1을 가르켰던 것을 2를 가르킴
- 메모리에 한번 저장되었던 값은 수정되지 않음
- 상수여서 불변인 것이 아니라, 실제 메모리 값이 수정되지 않아서 불변값이라고 불림

## 객체타입
객체타입은 가변값이라고도 부름
```javascript
let o1 = { name: "서리" };
let o2 = o1;

o2.name = "홍길동";
```
- o2 변수가 가르키고 있던 값을 메모리상에서 수정함(= 원본데이터를 수정함)
- o2의 값과 o1의 값 둘다 변경되게 됨


## 원시타입 vs 객체 타입
| 원시 타입                         | vs | 객체 타입                         |
|----------------------------------|----|----------------------------------|
| Number, String, Boolean 등 ...   |    | Object, Array, Function 등 ...   |
| 값 자체로써 변수에 저장되고 복사 된다 |    | 참조값을 통해 변수에 저장되고 복사된다 |
| 불변값이다(메모리 값 수정X) |    | 가변값이다(메모리 값 수정 O) |

<br/>
<br/>

## 객체 타입 주의사항 

### 1. 의도치 않게 값이 수정될 수 있다. (= 사이드 이펙트가 발생할 수 있음)
```javascript
let o1 = { name: "서리"};
let o2 = o1;

o2.name = "홍길동";
```
객체를 복사할 때는 위와 같이 참조값 자체를 복사하는 것이 아닌

```javascript
let o1 = { name: "서리"};
let o2 = {...o1}

o2.name = "홍길동";
```
새로운 객체를 생성하고 스프레드 연산자를 이용해서 새로운 객체를 생성하면서 내부 프로퍼티만 따로 복사해오는 방식으로 객체를 복사해와야함
o2객체는 새로운 객체가 됨, 새로운 참조값에 새로운 값이 저장되는 것임


| 얕은 복사                      | vs | 깊은 복사                         |
|----------------------------------|----|----------------------------------|
| ```javascript: let o2 = o1;```  |    | ```javascript: let o2 = {...o1};```  |
| 객체의 참조값을 복사함 |    | 새로운 객체를 생성하면서 프로퍼티만 따로 복사함|
| `원본 객체가 수정될 수 있어 위험함` |    | `원본 객체가 수정될 일이 없어 안전함` |


### 2. 객체간의 비교는 기본적으로 참조값을 기준으로 이루어진다.
```javascript
let o1 = { name: "서리"};
let o2 = o1; // 객체의 참조값을 복사한 행위, 같은 객체를 가르키게 됨, 얕은 복사
let o3 = { ...o1}; // 새로운 객체를 생성하면서 스프레드 연산자를 사용하여 복사, 깊은 복사

console.log(o1 === o2); // true
console.log(o2 === o3); // false, 객체간의 비교 연산은 참조값을 기준으로 이루어지기 때문에 참조값이 달라 false가 출력이 됨

console.log(JSON.stringify(o1) === JSON.stringify(o3); // 자바스크립트 내장 함수, 객체를 문자열로 반환하는 기능
```

| 얕은 비교                      | vs | 깊은 비교                         |
|----------------------------------|----|----------------------------------|
| ```javascript: lo1 === o2;```  |    | ```javascript: JSON.stringify(o1) === JSON.stringify(o3)```  |
| 참조값을 기준으로 비교|    | 객체를 문자열로 변환하여 비교|
|  |    | JSON.stringify 등의 내장 함수를 이용해야 함 |


### 3. 배열과 함수도 사실 객체이다.
객체 (Object)
- 함수 (Function) : 호출, 선언 ...
- 배열 (Array) : 순차 저장, 순회 ...
   

